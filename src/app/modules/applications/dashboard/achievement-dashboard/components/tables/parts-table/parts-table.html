<section class="bg-base-100 rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col h-full">
	<div class="p-4 bg-base-200 border-b flex flex-col gap-4">
		<div class="flex justify-between items-center">
			<div>
				<h2 class="text-xs font-bold uppercase tracking-widest text-slate-600 italic">Part Number Analysis / 品番別分析</h2>
				<span class="text-[0.7rem] text-slate-400 font-normal block">製品ごとの達成状況</span>
			</div>
			<span class="text-[9px] text-slate-400 font-mono">{{ filteredData.length }} Items</span>
		</div>
		<div class="relative">
			<input
				type="text"
				[(ngModel)]="searchText"
				(keyup)="filterData()"
				placeholder="Buscar Número de Parte o Área... / 品番検索..."
				class="dinput dinput-bordered dinput-xs w-full pl-8"
			/>
			<svg class="absolute left-2.5 top-1.5 h-3.5 w-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
			</svg>
		</div>
	</div>
	<div class="overflow-x-auto flex-grow">
		<table class="dtable w-full text-left text-xs">
			<thead class="bg-base-100 border-b text-slate-400 font-bold uppercase text-[9px] sticky top-0 z-10 shadow-sm">
				<tr>
					<th>Part / 品番</th>
					<th>Area / 部門</th>
					<th class="text-center">Ach. % / 達成率</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let p of filteredData" class="hover:bg-base-200 transition-colors">
					<td class="font-mono font-bold text-slate-700">{{ p.number }}</td>
					<td class="text-[10px] uppercase text-slate-400 font-bold">{{ p.area }}</td>
					<td class="text-center font-black" [class.text-emerald-600]="p.ach >= 100" [class.text-blue-500]="p.ach < 100">
						{{ p.ach | number: '1.1-1' }}%
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</section>
