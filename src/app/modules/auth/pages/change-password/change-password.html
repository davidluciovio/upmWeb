<div class="flex flex-col items-center justify-center min-h-screen bg-base-200">
	<div class="dcard w-96 bg-base-100 shadow-xl">
		<div class="dcard-body">
			<h2 class="dcard-title justify-center mb-4">Cambiar Contraseña</h2>
			<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
				<div class="dform-control">
					<label class="dlabel">
						<span class="dlabel-text">Contraseña Actual</span>
					</label>
					<input type="password" formControlName="currentPassword" class="dinput dinput-bordered" placeholder="********" />
				</div>

				<div class="dform-control">
					<label class="dlabel">
						<span class="dlabel-text">Nueva Contraseña</span>
					</label>
					<input type="password" formControlName="newPassword" class="dinput dinput-bordered" placeholder="********" />
				</div>

				<div class="dform-control">
					<label class="dlabel">
						<span class="dlabel-text">Confirmar Nueva Contraseña</span>
					</label>
					<input type="password" formControlName="confirmPassword" class="dinput dinput-bordered" placeholder="********" />
					@if (form.hasError('mismatch') && form.get('confirmPassword')?.touched) {
						<span class="text-error text-sm mt-1">Las contraseñas no coinciden</span>
					}
				</div>

				<div class="dcard-actions justify-end mt-4">
					<button type="submit" class="dbtn dbtn-primary w-full" [disabled]="form.invalid || isLoading()">
						@if (isLoading()) {
							<span class="dloading dloading-spinner"></span>
						}
						Actualizar Contraseña
					</button>
				</div>
			</form>
		</div>
	</div>
</div>
